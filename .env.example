# =============================================================================
# ALTUS FINANCE GROUP - CONFIGURATION ENVIRONNEMENT
# =============================================================================
# Ce fichier documente toutes les variables d'environnement nécessaires
# Créer un fichier .env avec ces variables pour le développement local
# Ne JAMAIS commiter le fichier .env avec des vraies valeurs
# =============================================================================

# =============================================================================
# BACKEND (Render) - Variables OBLIGATOIRES en production
# =============================================================================

# SESSION_SECRET - OBLIGATOIRE en production
# Générer avec: openssl rand -base64 32
# Doit être une chaîne aléatoire sécurisée d'au moins 32 caractères
SESSION_SECRET=

# DATABASE_URL - OBLIGATOIRE en production
# Fournie automatiquement par Render si vous attachez une base PostgreSQL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=

# FRONTEND_URL - OBLIGATOIRE en production pour CORS
# L'URL complète de votre frontend Netlify (sans slash final)
# Exemple: https://altusfinancegroup.com
FRONTEND_URL=

# COOKIE_DOMAIN - OBLIGATOIRE pour cookies cross-domain
# Permet aux cookies d'être partagés entre frontend et backend
# Format: .votredomaine.com (noter le point au début)
# Exemple: .altusfinancegroup.com
COOKIE_DOMAIN=

# =============================================================================
# BACKEND (Render) - Variables OPTIONNELLES
# =============================================================================

# Cloudinary - Upload d'images (photos de profil, documents)
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# SendGrid - Envoi d'emails (notifications, vérification)
SENDGRID_API_KEY=
FROM_EMAIL=noreply@altusfinancegroup.com

# Node Environment
NODE_ENV=development

# Server Port
PORT=5000

# =============================================================================
# FRONTEND (Netlify) - Variables OBLIGATOIRES en production
# =============================================================================

# VITE_API_URL - OBLIGATOIRE en production
# L'URL complète de votre backend Render (sans slash final)
# Développement: laisser vide (utilise localhost:5000)
# Production: https://api.altusfinancegroup.com
VITE_API_URL=

# VITE_SITE_URL - Pour SEO et Open Graph
# L'URL complète de votre site (sans slash final)
# Développement: http://localhost:5000
# Production: https://altusfinancegroup.com
VITE_SITE_URL=http://localhost:5000

# =============================================================================
# INSTRUCTIONS DE CONFIGURATION NETLIFY
# =============================================================================
#
# 1. Connectez-vous à Netlify: https://app.netlify.com
# 2. Sélectionnez votre site
# 3. Allez dans: Site settings > Build & deploy > Environment variables
# 4. Ajoutez ces variables:
#
#    VITE_API_URL=https://api.altusfinancegroup.com
#    VITE_SITE_URL=https://altusfinancegroup.com
#
# 5. Cliquez sur "Save" puis redéployez le site
#
# =============================================================================
# INSTRUCTIONS DE CONFIGURATION RENDER
# =============================================================================
#
# 1. Connectez-vous à Render: https://dashboard.render.com
# 2. Sélectionnez votre service Web
# 3. Allez dans l'onglet "Environment"
# 4. Ajoutez ces variables (cliquez "Add Environment Variable"):
#
#    SESSION_SECRET=[générer avec: openssl rand -base64 32]
#    FRONTEND_URL=https://altusfinancegroup.com
#    COOKIE_DOMAIN=.altusfinancegroup.com
#    
#    Variables automatiques si base PostgreSQL attachée:
#    DATABASE_URL=[fournie automatiquement]
#
#    Variables optionnelles pour fonctionnalités complètes:
#    CLOUDINARY_CLOUD_NAME=[votre cloud name]
#    CLOUDINARY_API_KEY=[votre API key]
#    CLOUDINARY_API_SECRET=[votre API secret]
#    SENDGRID_API_KEY=[votre API key SendGrid]
#    FROM_EMAIL=noreply@altusfinancegroup.com
#
# 5. Cliquez sur "Save Changes" - le service redémarre automatiquement
#
# =============================================================================
# CONFIGURATION DNS REQUISE
# =============================================================================
#
# Pour que les cookies fonctionnent entre domaines:
#
# 1. Frontend (altusfinancegroup.com):
#    Type: A ou CNAME
#    Nom: @ (ou altusfinancegroup.com)
#    Valeur: Fournie par Netlify
#
# 2. Backend (api.altusfinancegroup.com):
#    Type: CNAME
#    Nom: api
#    Valeur: Fournie par Render
#
# 3. Les deux domaines DOIVENT utiliser HTTPS (obligatoire pour cookies secure)
#
# =============================================================================
# VÉRIFICATION DU DÉPLOIEMENT
# =============================================================================
#
# 1. Vérifier que le backend répond:
#    curl https://api.altusfinancegroup.com/health
#    
# 2. Vérifier les variables d'environnement dans les logs Render
#
# 3. Tester la connexion depuis le frontend:
#    - Ouvrir https://altusfinancegroup.com
#    - Ouvrir la console navigateur (F12)
#    - Se connecter
#    - Vérifier qu'il n'y a pas d'erreurs CORS
#    - Vérifier que les cookies sont définis (onglet Application > Cookies)
#
# =============================================================================
